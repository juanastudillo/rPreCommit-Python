#!/usr/bin/env python3

import subprocess
import sys

print("Ejecutando linter de Python (flake8)...")

# Ejecuta flake8 en los archivos modificados
result = subprocess.run(
    ["flake8", "--show-source", "--statistic"],
    capture_output=True, text=True
)

if result.returncode != 0:
    print("El linter encontró errores. El commit ha sido cancelado.")
    print(result.stdout)
    sys.exit(1)

print("Linter finalizado. El código es correcto.")
sys.exit(0)
